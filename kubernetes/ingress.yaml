apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: flask-app-ingress
  # [수정]
  # 'kubernetes.io/ingress.class: alb' 주석을 삭제하고,
  # 대신 아래 'spec.ingressClassName' 필드를 사용합니다.
  annotations:
    # ingress.class 주석은 제거됨
    alb.ingress.kubernetes.io/scheme: internet-facing
    alb.ingress.kubernetes.io/target-type: ip
spec:
  # [수정] Ingress 컨트롤러의 이름을 'alb'로 명시적으로 지정
  ingressClassName: alb
  
  rules:
   - http:
      paths:
      - path: /
        pathType: Prefix
        backend:
           service:
            name: flask-app-service
            port:
              number: 80